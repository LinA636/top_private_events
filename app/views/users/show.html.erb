<h1>Events by <%= @user.name %></h1>

<div class="created_events">
    <div><p><strong>My Created Events</strong></p></div>
    <% if @created_events.any?%>
        <div>
            <ul>
                <% @created_events.each do |event| %>
                    <li class="event-card">
                        <p class="event-title"><strong>
                            <%= link_to event.title, event_path(event) %>
                            </strong></p>
                        <p class="event-description">Description:<%= event.description %></p>
                    </li>
                <% end%>
            </ul>
        </div>
    <%else%>
        <p>no events</p>
    <% end%>
</div>

<div class="attended_events">
    <div><p><strong>Events I'm attending</strong></p></div>
    <% if @attended_events.any?%>
        <% past_and_future_events = @attended_events.group_by { |event| event.event_in_past? } %>
        
        <div class="past_events">
            <p class="past_events">Past Events:</p>
            <ul>
                <% past_and_future_events[true]&.each do |event| %>
                    <li class="event-card past">
                        <p class="event-title">
                            <strong><%= link_to event.title, event_path(event) %></strong></p>
                        <p class="event-description">Description:<%= event.description %></p>
                    </li>
                <%end%>
            </ul>
        </div>

        <div class="future_events">
            <p class="future_events">Future Events:</p>
            <ul>
                <% past_and_future_events[false]&.each do |event| %>
                    <li class="event-card past">
                        <p class="event-title">
                            <strong><%= link_to event.title, event_path(event) %></strong></p>
                        <p class="event-description">Description:<%= event.description %></p>
                    </li>
                <%end%>
            </ul>
        </div>
    <%else%>
        <p>no events</p>
    <%end%>
</div>